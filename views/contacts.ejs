<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <title>Фитнес-клуб SportArea</title>
    <meta name="description" content="Поменяйте описание">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" href="images/favicon.png">
    <link rel="stylesheet" href="/css/contacts_style.css">
    <link rel="stylesheet" href="/css/footer_style.css">
    <link rel="stylesheet" href="/css/main.css">
</head>

<body>
    <%- include('partials/left_bar') %>

    <%- include('partials/header') %>

    <%- include('partials/create_feedback') %>

        <section class="first-screen">
            <div class="carousel-images">
                <img src="images/dist/first-screen_background/Background_contacts1.jpg" alt="Background 1"
                    class="active">
                <img src="images/dist/first-screen_background/Background_contacts2.jpg" alt="Background 2">
                <img src="images/dist/first-screen_background/Background_contacts3.jpg" alt="Background 3">
            </div>
            <div class="first-screen__breadcrumbs">

                <hi class="first-screen__breadcrumbs__item">Главная / Контакты</h1>
            </div>
            <div class="first-screen__photo">

                <img src="images/dist/contacts/contacts__man.jpg" alt="man">
            </div>
            <div class="carousel-overlay"></div>
            <h1 class="first-screen__heading">КОНТАКТЫ</h1>
            <ul class="first-screen__list">
                <li class="first-screen__item">
                    <h3 class="first-screen__sub-heading">Адрес</h3>
                    <ul class="first-screen__sub-list">
                        <li class="first-screen__sub-item">198000, Санкт-Петербург, Невский 111, помещение 110</li>

                    </ul>
                </li>
                <li class="first-screen__item">
                    <h3 class="first-screen__sub-heading">Абонементский отдел</h3>
                    <ul class="first-screen__sub-list">
                        <li class="first-screen__sub-item">+7 (812) 111-22-33</li>
                        <li class="first-screen__sub-item">abon@sportarea.ru</li>

                    </ul>
                </li>
                <li class="first-screen__item">
                    <h3 class="first-screen__sub-heading">Фитнес-клуб на Невском</h3>
                    <ul class="first-screen__sub-list">
                        <li class="first-screen__sub-item">+7 (812) 111-22-33</li>
                        <li class="first-screen__sub-item">nevsky@sportarea.ru</li>

                    </ul>
                </li>
        </section>

        <script>
            let currentIndex = 0;
            const images = document.querySelectorAll('.carousel-images img');
            const totalImages = images.length;

            function switchImage() {
                images[currentIndex].classList.remove('active');
                currentIndex = (currentIndex + 1) % totalImages;
                images[currentIndex].classList.add('active');
            }

            setInterval(switchImage, 4000); // Смена изображений каждые 3 секунды
        </script>

        <div class="reviews-section">
            <h2 class="reviews-title">Отзывы наших клиентов</h2>

            <!-- Карусель отзывов -->
            <div class="reviews-carousel">
                <div class="reviews-list">
                    <% feedbacks.forEach(feedback => { %>
                        <div class="review-card">
                            <div class="review-name"><%= feedback.client_full_name %></div>
                            <div class="review-trainer-name"><%= feedback.coach_full_name %></div>
                            <div class="review-comment"><%= feedback.comment %></div>
                        </div>
                    <% }) %>
                </div>

                <!-- Кнопки для переключения -->
                <button class="carousel-button carousel-button-left" id="prevBtn">&#8249;</button>
                <button class="carousel-button carousel-button-right" id="nextBtn">&#8250;</button>
            </div>

            <!-- Кнопка для добавления отзыва -->
            <button class="add-review-btn" id="openModalBtn1">Добавить отзыв</button>
        </div>

        <script>
            // Инициализация переменных для управления каруселью
            let currentIndexC = 0;
            const reviews = document.querySelector('.reviews-list');
            const totalReviews = document.querySelectorAll('.review-card').length;
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            // Функция для обновления позиции каруселиC
            function updateCarousel() {
                const offset = -currentIndexC * 100; // смещение по оси X (каждый слайд - 100%)
                reviews.style.transform = `translateX(${offset}%)`;
            }

            // Обработчик для кнопки "влево"
            prevBtn.addEventListener('click', () => {
                if (currentIndexC > 0) {
                    currentIndexC--;
                } else {
                    currentIndexC = totalReviews - 1; // переход на последний слайд
                }
                updateCarousel();
            });

            // Обработчик для кнопки "вправо"
            nextBtn.addEventListener('click', () => {
                if (currentIndexC < totalReviews - 1) {
                    currentIndexC++;
                } else {
                    currentIndexC = 0; // переход на первый слайд
                }
                updateCarousel();
            });

            // Инициализация карусели
            updateCarousel();
        </script>

        <%- include('partials/footer') %>
</body>